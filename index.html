<!DOCTYPE html>
<html lang="tj">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MCOIN Premium Edition</title>
    <!-- Telegram SDK -->
    <script src="telegram.org"></script>
    <style>
        :root {
            --primary: #facc15;
            --silver: linear-gradient(to bottom, #ffffff 0%, #d1d5db 50%, #9ca3af 100%);
            --bg: #050510;
        }

        body {
            margin: 0;
            background: radial-gradient(circle at center, #1a1a3a 0%, var(--bg) 100%);
            color: #fff;
            font-family: 'Inter', -apple-system, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            user-select: none;
            touch-action: none;
        }

        .header {
            padding: 15px 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: all 0.3s;
        }

        .stat-card b {
            font-size: 14px;
            color: var(--primary);
            display: block;
        }

        .stat-card span {
            font-size: 10px;
            color: #888;
            display: block;
            text-transform: uppercase;
            margin-bottom: 2px;
        }

        .balance-box {
            text-align: center;
            margin: 10px 0;
        }

        #balance {
            font-size: 52px;
            margin: 0;
            background: var(--silver);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 900;
            text-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .currency-name {
            letter-spacing: 5px;
            font-size: 14px;
            color: var(--primary);
            font-weight: 800;
        }

        .game-zone {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        .main-coin {
            width: 260px;
            height: 260px;
            background: radial-gradient(circle at 30% 30%, #fde047 0%, #ca8a04 100%);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            box-shadow: 0 0 60px rgba(250, 204, 21, 0.4);
            transition: transform 0.05s;
            cursor: pointer;
            z-index: 5;
        }

        .main-coin:active {
            transform: scale(0.92) rotateX(10deg);
        }

        .m-logo {
            font-size: 130px;
            font-weight: 900;
            color: #000;
            pointer-events: none;
            text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.2);
        }

        .tap-effect {
            position: absolute;
            color: #fff;
            font-size: 36px;
            font-weight: 900;
            pointer-events: none;
            animation: floatUp 0.7s ease-out forwards;
            z-index: 100;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-180px) scale(1.3);
                opacity: 0;
            }
        }

        .footer {
            padding: 20px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-container {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #facc15, #fbbf24);
            width: 100%;
            transition: width 0.3s ease;
        }

        .nav-bar {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .nav-item {
            font-size: 11px;
            color: #6b7280;
            text-align: center;
            flex: 1;
        }

        .nav-item.active {
            color: var(--primary);
        }
    </style>
</head>

<body>

    <!-- –≠–ö–†–ê–ù–ò –î”Æ–°–¢–û–ù -->
    <div id="friends-screen" class="screen"
        style="display:none; padding: 20px; background: var(--bg); height: 100vh; overflow-y: auto; padding-bottom: 120px;">
        <h2 style="text-align: center; color: var(--primary); font-size: 26px; margin-bottom: 10px;">–î–∞—ä–≤–∞—Ç–∏ –¥”Ø—Å—Ç–æ–Ω</h2>
        <p style="text-align: center; color: #888; font-size: 14px; margin-bottom: 25px;">–®—É–º–æ –≤–∞ –¥”Ø—Å—Ç–∞—Ç–æ–Ω –±–∞—Ä–æ–∏ –≤–æ—Ä–∏–¥
            —à—É–¥–∞–Ω –±–æ–Ω—É—Å –º–µ–≥–∏—Ä–µ–¥!</p>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –±–æ–Ω—É—Å–æ–≤ -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px;">
            <div class="stat-card" style="border: 1px solid rgba(250, 204, 21, 0.3);">
                <span style="font-size: 20px;">üéÅ</span>
                <b style="font-size: 12px;">+5,000</b>
                <p style="font-size: 9px; color: #888; margin: 0;">–ë–∞—Ä–æ–∏ –¥”Ø—Å—Ç</p>
            </div>
            <div class="stat-card" style="border: 1px solid #4ade80;">
                <span style="font-size: 20px;">üëë</span>
                <b style="font-size: 12px;">+25,000</b>
                <p style="font-size: 9px; color: #888; margin: 0;">–ë–∞—Ä–æ–∏ Premium</p>
            </div>
        </div>

        <h3 style="font-size: 18px; margin-bottom: 15px;">–†”Ø–π—Ö–∞—Ç–∏ –¥”Ø—Å—Ç–æ–Ω (<span id="friend-count">0</span>)</h3>

        <div id="friends-list">
            <!-- –ê–≥–∞—Ä –¥”Ø—Å—Ç –Ω–∞–±–æ—à–∞–¥ -->
            <div id="empty-list"
                style="text-align: center; padding: 40px; color: #444; border: 2px dashed rgba(255,255,255,0.05); border-radius: 20px;">
                <p>–®—É–º–æ —Ç–æ “≥–æ–ª –¥”Ø—Å—Ç –Ω–∞–¥–æ—Ä–µ–¥</p>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–Ω–∏–∑—É) -->
        <div
            style="position: fixed; bottom: 30px; left: 20px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 100;">
            <button onclick="inviteFriend()"
                style="background: var(--primary); color: #000; border: none; padding: 18px; border-radius: 16px; font-weight: 800; font-size: 16px; box-shadow: 0 5px 20px rgba(250, 204, 21, 0.4);">
                –î–∞—ä–≤–∞—Ç –∫–∞—Ä–¥–∞–Ω–∏ –¥”Ø—Å—Ç üë§+
            </button>
            <button onclick="copyLink()"
                style="background: rgba(255,255,255,0.05); color: #fff; border: 1px solid rgba(255,255,255,0.1); padding: 12px; border-radius: 16px; font-size: 14px; backdrop-filter: blur(10px);">
                –ù—É—Å—Ö–∞–±–∞—Ä–¥–æ—Ä–∏–∏ –∏—Å—Ç–∏–Ω–æ–¥ üîó
            </button>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù AIRDROP -->
    <div id="airdrop-screen" class="screen"
        style="display:none; padding: 20px; background: var(--bg); height: 100vh; overflow-y: auto;">
        <div style="text-align: center; margin-bottom: 30px;">
            <div style="font-size: 60px; margin-bottom: 10px;">üíé</div>
            <h2 style="color: var(--primary); margin: 0; font-size: 28px;">MCOIN Airdrop</h2>
            <p style="color: #888; font-size: 14px;">–õ–∏—Å—Ç–∏–Ω–≥ –≤–∞ —Ç–∞“õ—Å–∏–º–æ—Ç–∏ —Ç–∞–Ω–≥–∞“≥–æ –¥–∞—Ä –ø–µ—à –∞—Å—Ç!</p>
        </div>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º -->
        <div class="stat-card"
            style="margin-bottom: 20px; background: linear-gradient(135deg, rgba(250,204,21,0.1) 0%, rgba(0,0,0,0.5) 100%); border: 1px solid var(--primary);">
            <span style="color: var(--primary);">–ú–∞—Ä“≥–∏–ª–∞–∏ “∑–æ—Ä”£</span>
            <b style="font-size: 18px;">“∂–∞–º—ä–æ–≤–∞—Ä–∏–∏ —Ö–æ–ª“≥–æ (Farming)</b>
            <div class="progress-container" style="margin-top: 15px;">
                <div class="progress-bar" style="width: 45%;"></div>
            </div>
            <p style="font-size: 10px; color: #888; margin-top: 8px;">45% —Ç–æ –æ“ì–æ–∑–∏ –ª–∏—Å—Ç–∏–Ω–≥</p>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è Airdrop -->
        <h3 style="font-size: 18px; margin-bottom: 15px;">–í–∞–∑–∏—Ñ–∞“≥–æ –±–∞—Ä–æ–∏ –∏—à—Ç–∏—Ä–æ–∫:</h3>

        <div class="airdrop-tasks">
            <div class="stat-card"
                style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; text-align: left;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span style="font-size: 24px;">üîó</span>
                    <div>
                        <div style="font-weight: bold; font-size: 14px;">–ü–∞–π–≤–∞—Å—Ç –∫–∞—Ä–¥–∞–Ω–∏ “≥–∞–º—ë–Ω</div>
                        <div style="font-size: 11px; color: #888;">“≤–∞–º—ë–Ω–∏ TON-—Ä–æ –ø–∞–π–≤–∞—Å—Ç –∫—É–Ω–µ–¥</div>
                    </div>
                </div>
                <button onclick="connectWallet()"
                    style="background: #fff; color: #000; border: none; padding: 8px 12px; border-radius: 8px; font-size: 12px; font-weight: bold;">–ü–∞–π–≤–∞—Å—Ç</button>
            </div>

            <div class="stat-card"
                style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; text-align: left; opacity: 0.7;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span style="font-size: 24px;">üì¢</span>
                    <div>
                        <div style="font-weight: bold; font-size: 14px;">–û–±—É–Ω–∞ –±–∞ –∫–∞–Ω–∞–ª</div>
                        <div style="font-size: 11px; color: #888;">–•–∞–±–∞—Ä“≥–æ–∏ –º—É“≥–∏–º—Ä–æ –≥—É–º –Ω–∞–∫—É–Ω–µ–¥</div>
                    </div>
                </div>
                <div style="color: #4ade80; font-weight: bold;">‚úÖ</div>
            </div>
        </div>

        <!-- –ò–Ω—Ñ–æ-–±–ª–æ–∫ -->
        <div
            style="margin-top: 30px; padding: 15px; border-radius: 12px; background: rgba(255,255,255,0.03); font-size: 12px; color: #6b7280; line-height: 1.5;">
            ‚ö†Ô∏è <b>–î–∏“õ“õ–∞—Ç:</b> –ë–∞—Ä–æ–∏ –≥–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ Airdrop —à—É–º–æ –±–æ—è–¥ –Ω–∞ –∫–∞–º—Ç–∞—Ä –∞–∑ 50,000 MCOIN –≤–∞ 3 –¥”Ø—Å—Ç–∏ –¥–∞—ä–≤–∞—Ç—à—É–¥–∞ –¥–æ—à—Ç–∞
            –±–æ—à–µ–¥.
        </div>
    </div>

    <div class="header">
        <div class="stat-card">
            <span>–§–æ–∏–¥–∞</span>
            <b>+1.50K</b>
        </div>
        <div class="stat-card">
            <span>–†—É—Ç–±–∞</span>
            <b id="rank">–ë–†–û–ù–ó–ê</b>
        </div>
    </div>

    <div class="balance-box">
        <h1 id="balance">0</h1>
        <div class="currency-name">MCOIN</div>
    </div>


    <div class="game-zone">
        <div class="main-coin" id="tapBtn">
            <div class="m-logo">M</div>
        </div>
    </div>
    <!-- –≠–ö–†–ê–ù –î”Æ–°–¢–û–ù -->
    <div id="friends-screen" class="screen"
        style="display:none; padding: 20px; background: var(--bg); overflow-y: auto;">
        <h2 style="text-align: center; color: var(--primary);">–î–∞—ä–≤–∞—Ç–∏ –¥”Ø—Å—Ç–æ–Ω</h2>

        <div class="stat-card" style="margin-bottom: 20px; padding: 20px;">
            <span style="font-size: 14px;">–®—É–º–æ –¥”Ø—Å—Ç –Ω–∞–¥–æ—Ä–µ–¥</span>
            <p style="color: #888; font-size: 12px;">–ë–∞—Ä–æ–∏ “≥–∞—Ä —è–∫ –¥”Ø—Å—Ç–∏ –¥–∞—ä–≤–∞—Ç—à—É–¥–∞ —à—É–º–æ <b
                    style="color: var(--primary);">+5,000 MCOIN</b> –º–µ–≥–∏—Ä–µ–¥!</p>
        </div>

        <div id="friends-list">
            <!-- –ò–Ω“∑–æ —Ä”Ø–π—Ö–∞—Ç–∏ –¥”Ø—Å—Ç–æ–Ω –ø–∞–π–¥–æ –º–µ—à–∞–≤–∞–¥ -->
        </div>

        <div style="position: sticky; bottom: 20px; display: flex; flex-direction: column; gap: 10px;">
            <button class="buy-btn" onclick="inviteFriend()" style="width: 100%; padding: 18px; font-size: 16px;">
                –î–∞—ä–≤–∞—Ç –∫–∞—Ä–¥–∞–Ω–∏ –¥”Ø—Å—Ç üë•
            </button>
            <button class="buy-btn" onclick="copyLink()"
                style="width: 100%; padding: 15px; background: rgba(255,255,255,0.1); color: #fff; border: 1px solid var(--primary);">
                –ù—É—Å—Ö–∞–±–∞—Ä–¥–æ—Ä–∏–∏ –∏—Å—Ç–∏–Ω–æ–¥ üîó
            </button>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –º–∞–π–Ω–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç–æ) -->
    <div id="mining-screen"
        style="display:none; padding: 0px; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 20; overflow-y: auto;">
        <h2 style="text-align: center; color: var(--primary);">–ö–æ—Ñ—Ç–∞–Ω (Mining)</h2>
        <div class="stat-card" style="margin-bottom: 20px;">
            <span>–§–æ–∏–¥–∞–∏ “≥–∞—Ä—Å–æ–∞—Ç–∞ (Profit per hour)</span>
            <b id="p-hour">+0</b>
        </div>

        <div id="cards-container">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 1 -->
            <div class="stat-card" onclick="buyUpgrade('pickaxe', 500, 150)"
                style="margin-bottom: 10px; cursor: pointer; text-align: left; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <b style="font-size: 16px;">‚õèÔ∏è –ö–ª–∞–Ω–≥–∏ –æ–¥–¥”£</b>
                    <span>–ù–∞—Ä—Ö: 500 | –§–æ–∏–¥–∞: +150/—Å–æ–∞—Ç</span>
                </div>
                <button
                    style="background: var(--primary); border: none; border-radius: 8px; padding: 8px 15px; font-weight: bold;">–•—Ä–∏–¥–∞–Ω</button>
            </div>
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 2 -->
            <div class="stat-card" onclick="buyUpgrade('drill', 2500, 800)"
                style="margin-bottom: 10px; cursor: pointer; text-align: left; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <b style="font-size: 16px;">üöú –ë—É—Ä“ì–∞ (Drill)</b>
                    <span>–ù–∞—Ä—Ö: 2,500 | –§–æ–∏–¥–∞: +800/—Å–æ–∞—Ç</span>
                </div>
                <button
                    style="background: var(--primary); border: none; border-radius: 8px; padding: 8px 15px; font-weight: bold;">–•—Ä–∏–¥–∞–Ω</button>
            </div>
        </div>
        <button onclick="toggleMining(false)"
            style="width: 100%; margin-top: 20px; padding: 15px; border-radius: 10px; background: rgba(255,255,255,0.1); color: white; border: 1px solid var(--primary);">–ë–∞—Ä–≥–∞—à—Ç–∞–Ω</button>
    </div>
    <div class="footer">
        <div style="display: flex; justify-content: space-between; font-size: 15px; font-weight: bold;">
            <span>‚ö° <span id="energyVal">500</span>/500</span>
            <span style="color: var(--primary)">–ü—É—Ä–∫—É–Ω”£ üî•</span>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="energyFill"></div>
        </div>
        <nav class="nav-bar">
            <div class="nav-item" onclick="location.reload()">üè†<br>–ê—Å–æ—Å”£</div>
            <div class="nav-item" onclick="showMining()">‚õèÔ∏è<br>–ú–∞–π–Ω–∏–Ω–≥</div>
            <div class="nav-item" onclick="showFriends()">üë•<br>–î”Ø—Å—Ç–æ–Ω</div>
            <div class="nav-item active" onclick="showAirdrop()">üíé<br>Airdrop</div>
        </nav>
    </div>


    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∏ —à—É–º–æ
        const BOT_USERNAME = "mcointj_bot"; // –ù–û–ú–ò –ë–û–¢–ò –•–£–î–†–û –ò–ù“∂–û –ù–ê–í–ò–°–ï–î (–±–µ @)

        function inviteFriend() {
            // –°—Å—ã–ª–∫–∞–∏ —Ä–µ—Ñ–µ—Ä–∞–ª”£ (–±–∞—Ä–æ–∏ “≥–∞—Ä —è–∫ –∫–æ—Ä–±–∞—Ä –±–æ—è–¥ –±–µ–Ω–∞–∑–∏—Ä –±–æ—à–∞–¥, “≥–æ–ª–æ –æ–¥–¥”£ –º–µ—Å–æ–∑–µ–º)
            const inviteLink = `t.me{BOT_USERNAME}?start=ref123`;
            const shareText = encodeURIComponent("üöÄ –ë–∞ –º–∞–Ω “≥–∞–º—Ä–æ“≥ —à–∞–≤ –≤–∞ –¥–∞—Ä MCOIN —Ç–∞–Ω–≥–∞“≥–æ—Ä–æ “∑–∞–º—ä –∫—É–Ω! \n\n–¢”Ø“≥—Ñ–∞–∏ –∞–≤–≤–∞–ª–∏–Ω: 5,000 MCOIN –±–∞—Ä–æ–∏ —Ç—É! üëá");
            const fullUrl = `t.me{inviteLink}&text=${shareText}`;

            // –ê–≥–∞—Ä –¥–∞—Ä Telegram –±–æ—à–∞–¥, –±–æ —É—Å—É–ª–∏ —Ö—É–¥–∏ Telegram –º–µ–∫—É—à–æ—è–¥
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.openTelegramLink(fullUrl);
            } else {
                window.open(fullUrl, '_blank');
            }
        }

        function copyLink() {
            const inviteLink = `t.me{BOT_USERNAME}?start=ref123`;

            navigator.clipboard.writeText(inviteLink).then(() => {
                if (window.Telegram && window.Telegram.WebApp) {
                    window.Telegram.WebApp.showAlert("–ò—Å—Ç–∏–Ω–æ–¥ –Ω—É—Å—Ö–∞–±–∞—Ä–¥–æ—Ä”£ —à—É–¥! ‚úÖ");
                } else {
                    alert("–ò—Å—Ç–∏–Ω–æ–¥ –Ω—É—Å—Ö–∞–±–∞—Ä–¥–æ—Ä”£ —à—É–¥!");
                }
            });
        }

        // –§—É–Ω–∫—Å–∏—è –±–∞—Ä–æ–∏ –∫—É—à–æ–¥–∞–Ω–∏ —ç–∫—Ä–∞–Ω–∏ –¥”Ø—Å—Ç–æ–Ω
        function showFriends() {
            // –ü–∏–Ω“≥–æ–Ω –∫–∞—Ä–¥–∞–Ω–∏ “≥–∞–º–∞–∏ —ç–∫—Ä–∞–Ω“≥–æ–∏ –¥–∏–≥–∞—Ä
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.querySelector('.game-zone').style.display = 'none';
            document.querySelector('.balance-box').style.display = 'none';

            // –ù–∏—à–æ–Ω –¥–æ–¥–∞–Ω–∏ —ç–∫—Ä–∞–Ω–∏ –¥”Ø—Å—Ç–æ–Ω
            document.getElementById('friends-screen').style.display = 'block';
        }

        function showAirdrop() {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.querySelector('.game-zone').style.display = 'none';
            document.querySelector('.balance-box').style.display = 'none';

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∞–∏—Ä–¥—Ä–æ–ø–∞
            document.getElementById('airdrop-screen').style.display = 'block';
        }

        function connectWallet() {
            if (window.Telegram && window.Telegram.WebApp) {
                Telegram.WebApp.showAlert("–§—É–Ω–∫—Å–∏—è–∏ –ø–∞–π–≤–∞—Å—Ç–∫—É–Ω–∏–∏ “≥–∞–º—ë–Ω –±–∞ –Ω–∞–∑–¥–∏–∫”£ –∏–ª–æ–≤–∞ –º–µ—à–∞–≤–∞–¥! üöÄ");
            } else {
                alert("–ü–∞–π–≤–∞—Å—Ç–∫—É–Ω–∏–∏ “≥–∞–º—ë–Ω –¥–∞—Ä “≥–æ–ª–∏ —Ç–∞“≥–∏—è –∞—Å—Ç.");
            }
        }

        // –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –º–∞–π–Ω–∏–Ω–≥–∞
        let profitPerHour = Number(localStorage.getItem('mc_pph')) || 0;

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –≥–ª–∞–≤–Ω—ã–º —ç–∫—Ä–∞–Ω–æ–º –∏ –º–∞–π–Ω–∏–Ω–≥–æ–º
        function toggleMining(show) {
            document.getElementById('mining-screen').style.display = show ? 'block' : 'none';
        }

        // –ü—Ä–∏–≤—è–∂–µ–º –∫–Ω–æ–ø–∫—É "–ö–æ—Ñ—Ç–∞–Ω" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        document.querySelectorAll('.nav-item')[1].onclick = () => toggleMining(true);

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è
        function buyUpgrade(name, cost, profit) {
            if (balance >= cost) {
                balance -= cost;
                profitPerHour += profit;
                updateUI();
                localStorage.setItem('mc_pph', profitPerHour);
                alert("–®—É–º–æ –±–æ–º—É–≤–∞—Ñ—Ñ–∞“õ–∏—è—Ç —Ö–∞—Ä–∏–¥–µ–¥!");
            } else {
                alert("–ú–∞–±–ª–∞“ì–∏ –∫–æ—Ñ”£ –Ω–µ—Å—Ç!");
            }
        }

        // –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ (–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É)
        setInterval(() => {
            if (profitPerHour > 0) {
                let profitPerSecond = profitPerHour / 3600;
                balance += profitPerSecond;
                updateUI();
            }
        }, 1000);

        // –û–±–Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é updateUI, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–≤–æ–¥–∏–ª–∞ –ø—Ä–æ—Ñ–∏—Ç
        const originalUpdateUI = updateUI;
        updateUI = function () {
            originalUpdateUI();
            document.getElementById('p-hour').textContent = `+${Math.floor(profitPerHour).toLocaleString()}`;
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏ –≤ —Ö–µ–¥–µ—Ä–µ (–≥–¥–µ –±—ã–ª–æ +1.50K)
            document.querySelector('.stat-card b').textContent = `+${(profitPerHour / 1000).toFixed(2)}K`;
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram ? window.Telegram.WebApp : null;
        if (tg) {
            tg.expand();
            tg.ready();
        }

        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        const maxEnergy = 500;
        let balance = Number(localStorage.getItem('mc_bal')) || 0;
        let energy = localStorage.getItem('mc_eng') !== null ? Number(localStorage.getItem('mc_eng')) : maxEnergy;

        const balanceEl = document.getElementById('balance');
        const energyValEl = document.getElementById('energyVal');
        const energyFillEl = document.getElementById('energyFill');
        const rankEl = document.getElementById('rank');
        const tapBtn = document.getElementById('tapBtn');

        // –§—É–Ω–∫—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤
        function updateRank() {
            let rankName = "–ë–†–û–ù–ó–ê";
            let rankColor = "#CD7F32"; // –ë—Ä–æ–Ω–∑–æ–≤—ã–π —Ü–≤–µ—Ç

            if (balance >= 1000000) {
                rankName = "–ê–õ–ú–û–°";
                rankColor = "#00f2ff"; // –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç–æ–≤—ã–π (–≥–æ–ª—É–±–æ–π)
            } else if (balance >= 250000) {
                rankName = "–ü–õ–ê–¢–ò–ù–ê";
                rankColor = "#e5e4e2"; // –ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π (–±–µ–ª—ã–π)
            } else if (balance >= 50000) {
                rankName = "–¢–ò–õ–õ–û";
                rankColor = "#facc15"; // –ó–æ–ª–æ—Ç–æ–π
            } else if (balance >= 5000) {
                rankName = "–ù–£“ö–†–ê";
                rankColor = "#C0C0C0"; // –°–µ—Ä–µ–±—Ä—è–Ω—ã–π
            }

            // –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ —ç–ª–µ–º–µ–Ω—Ç—É —Ä–∞–Ω–≥–∞
            rankEl.textContent = rankName;
            rankEl.style.color = rankColor;

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö —Ä–∞–Ω–≥–æ–≤ (–æ—Ç –ó–æ–ª–æ—Ç–∞ –∏ –≤—ã—à–µ)
            if (balance >= 50000) {
                rankEl.style.textShadow = `0 0 10px ${rankColor}`;
            } else {
                rankEl.style.textShadow = "none";
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            balanceEl.textContent = Math.floor(balance).toLocaleString();
            energyValEl.textContent = Math.floor(energy);

            // –ü–æ–ª–æ—Å–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏
            const percent = (energy / maxEnergy) * 100;
            energyFillEl.style.width = percent + '%';

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–Ω–≥
            updateRank();

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            localStorage.setItem('mc_bal', balance);
            localStorage.setItem('mc_eng', energy);
        }

        // –≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ª–µ—Ç–∞—é—â–µ–π —Ü–∏—Ñ—Ä—ã (+1)
        function createTapEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'tap-effect';
            effect.textContent = '+1';
            effect.style.left = `${x}px`;
            effect.style.top = `${y}px`;
            document.body.appendChild(effect);
            setTimeout(() => effect.remove(), 700);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞/—Ç–∞–ø–∞
        function handleTap(e) {
            if (energy >= 1) {
                // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;

                balance += 1;
                energy -= 1;

                createTapEffect(clientX, clientY);
                updateUI();

                // –í–∏–±—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
                if (navigator.vibrate) navigator.vibrate(20);
            }
        }

        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ (1 –µ–¥–∏–Ω–∏—Ü–∞ –≤ —Å–µ–∫—É–Ω–¥—É)
        setInterval(() => {
            if (energy < maxEnergy) {
                energy += 1;
                updateUI();
            }
        }, 1000);

        // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
        tapBtn.addEventListener('pointerdown', (e) => {
            handleTap(e);
        });

        // –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
        updateUI();
    </script>

</body>

</html>
